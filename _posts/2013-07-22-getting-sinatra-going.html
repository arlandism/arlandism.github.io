---
layout: article
title: Getting Sinatra Going
date: '2013-07-22T20:06:00.002-07:00'
author: aml
tags: 
modified_time: '2013-07-22T20:08:47.711-07:00'
blogger_id: tag:blogger.com,1999:blog-1730093662423317857.post-3088057685245067477
blogger_orig_url: https://immutablearlandis.blogspot.com/2013/07/getting-sinatra-going.html
---

So I've started working on learning <a href="http://www.sinatrarb.com/" target="_blank">Sinatra</a> via various Internet tutorials. <a href="http://www.takadevelop.com/" target="_blank">Taka</a> gave me a pretty good primer today and even walked me through some of the basics I need to know in order to test-drive a Sinatra application. So far I've learned:<br /><br /><b>Rack</b><br /><br />Sinatra implements the <a href="http://rack.github.io/" target="_blank">Rack</a> interface. A couple of weeks ago, <a href="http://www.8thlight.com/our-team/myles-megyesi" target="_blank">Myles</a> gave a really good talk on Rack and how most Ruby web frameworks implemented it. From what I remember about his talk, the web framework looks for some class with an app method. And you can use this method to wrap middleware and other kinds of odd shenanigans.<br /><br /><b>Testing</b><br /><b><br /></b>Taka's approach to testing the application uses a combination of '<a href="https://github.com/brynary/rack-test" target="_blank">rack/test</a>' and <a href="http://rspec.info/" target="_blank">rspec</a> syntax. It's pretty interesting to see everything come together.<br /><br />Taka also showed me a cool way to get around testing POST requests. You shouldn't test your front-end code (e.g. HTML, CSS) because this stuff will probably change. Instead, we can test a post request and supply some fake data to make assertions about. It's basically a cool way to mock a form submit. Here's what we came up with:<br /><br /><pre class="brush:ruby" name="code">                                                                                    <br />    describe "POST '/hi" do                                                             <br />      it 'retrieves user information' do                                                <br />        post '/hi', {:taka =&gt; :goto, :hello =&gt; :world}                                  <br />        follow_redirect!                                                                <br />        last_response.status.should be 200                                              <br />        last_request.url.should == 'http://example.org/'                                <br />      end</pre><br />That was pretty much him showing me how to get started. Right now I'm still wrapping up the Ruby Koans and then I'm going to do some more work on Sinatra. After reading and watching a lot of <a href="http://cleancoders.com/" target="_blank">Clean Coders</a> videos about MVC architecture it'll be pretty fun to work with a web app. I'm excited to see the <a href="http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)" target="_blank">SOLID principles</a> at work when I have to work largely with code that's not my own.
